<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../../bower_components/app-layout/app-layout.html">
<link rel="import" href="../../bower_components/paper-drawer-panel/paper-drawer-panel.html">

<link rel="import" href="chat-thread-list.html">
<link rel="import" href="chat-thread-view.html">


<dom-module id="chatbot-ing-app">
  <template>
    <style>
      :host {
        font-family: 'Muli', 'Helvetica Neue', helvetica, arial;
        display: block;
      }
    </style>

    <!-- <iron-ajax url="threads.json" last-response="{{threads}}" auto></iron-ajax> -->

    <app-layout>
      <chat-thread-list drawer user="{{user}}" threads="{{thread}}" selected-thread="{{selectedThread}}"></chat-thread-list>

      <!-- <chat-thread-view main user="{{user}}" thread="{{selectedThread}}"></chat-thread-view> -->
    </app-layout>

  </template>

  <script>

    class ChatbotIngApp extends Polymer.Element {
      static get is() { return 'chatbot-ing-app'; }
      static get properties() {
        return {
          user: {
            type: Object,
            value: function () {
              return {
                name: 'Carlos', lastReadMessage: {}
              };
            }
          },
          thread: {
            value: function () {
              return [{
                "id": "0",
                "title": "Emoji Chat",
                "messages": [],
                "lastMessage": "Hmmm, dunno.  Ask the emojineer on the team, she'll know."

              }]
            }
          }
        }
      }
    }

    window.customElements.define(ChatbotIngApp.is, ChatbotIngApp);
  </script>
</dom-module>